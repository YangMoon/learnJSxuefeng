<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JSON</title>
	<script>
		var xiaoming={
			name:'小明',
			age:14,
			gender:true,
			height:1.65,
			grade:null,
			'middle-school':'\"W3C\" middle-school',
			skills:['JavaScript','Java','Python','Lisp']
		};
		var s=JSON.stringify(xiaoming);
		console.log(s);
		s=JSON.stringify(xiaoming,null,' ');
		console.log(s);
		s=JSON.stringify(xiaoming,['name','skills'],' ');
		console.log(s);

		// 还可以传入一个函数，这样对象的每个键值对都会被函数先处理：
		function convert(key,value){
			if (typeof value==='string'){
				return value.toUpperCase();
			}
			return value;
		}
		s=JSON.stringify(xiaoming,convert,' ');
		console.log(s);

		var xiaoming={
			name:'小明',
			age:14,
			gender:true,
			height:1.65,
			grade:null,
			'middle-school':'\"W3C\" middle-school',
			skills:['JavaScript','Java','Python','Lisp'],
			toJSON:function(){
				return {
					'Name':this.name,
					'Age':this.age
				};
			}
		};
		s=JSON.stringify(xiaoming);
		console.log(s);

		// 反序列化
		s=JSON.parse('[1,2,3,true]'); //[1,2,3,true]
		console.log(s);
		s=JSON.parse('{"name":"小明","age":14}'); // Object {name: '小明', age: 14}
		console.log(s);
		s=JSON.parse('true'); // true
		console.log(s);
		s=JSON.parse('123.45'); // 123.45
		console.log(s);
		var obj = JSON.parse('{"name":"小明","age":14}', function (key, value) {
		    if (key === 'name') {
		        return value + '同学';
		    }
		    return value;
		});
		console.log(JSON.stringify(obj)); // {name: '小明同学', age: 14}
	</script>
</head>
<body>
	
</body>
</html>